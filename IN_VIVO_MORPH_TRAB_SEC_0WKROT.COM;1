$!============================================================================$! call as: $! @in_vivo_morph c0000001.aim c0000002.aim$!$!=============================================================================$!$! define thresholds for bone gain and loss and segmentation threshold$!$  THRES_LOSS :==  -2.40       ! mu for reduced noise$  THRES_GAIN :==   2.40        ! mu for reduced noise$  THRES_SEG  :==   360     ! [1/1000]$  CL_SIZE    :==   15         ! Minimum amount of voxels $!$! define additional files based on image1 name$!$   FILENAME = F$PARSE("''P1'",,,"NAME")$   DEV      = F$PARSE("''P1'",,,"DEVICE")$   DIR      = F$PARSE("''P1'",,,"DIRECTORY")$   FILEBASE  :== 'DEV''DIR''FILENAME'   ! without extension$!$   DEFINE   IN1_FILE     'FILEBASE'".AIM"$   DEFINE   GOBJ1_FILE   'FILEBASE'".GOBJ"$!$! define output file based on image2 name$!$   FILENAME = F$PARSE("''P2'",,,"NAME")$   DEV      = F$PARSE("''P2'",,,"DEVICE")$   DIR      = F$PARSE("''P2'",,,"DIRECTORY")$   FILEBASE  :== 'DEV''DIR''FILENAME'   ! without extension$!$   DEFINE   IN2_FILE     'FILEBASE'".AIM"$   DEFINE   GOBJ2_FILE   'FILEBASE'".GOBJ"$!$! define output files based on output name$!$!   FILENAME = F$PARSE("''P3'",,,"NAME")$!   DEV      = F$PARSE("''P3'",,,"DEVICE")$!   DIR      = F$PARSE("''P3'",,,"DIRECTORY")$!   FILEBASE  :== 'DEV''DIR''FILENAME'   ! without extension$!$!$!$   show log in1_file$   show log gobj1_file$   show log in2_file$   show log gobj2_file$!$!$ ON ERROR THEN EXIT$!$iplregreadin2in2_fileheader_geo_setin2-1 -1 -1-1 -1 100-1 -1 -1transformin2in2_rot_halfTMAT_HALF.DAT1-1.000 -1.000 -1.000falsedel in2writein2_rot_halfwk0_rot.aimbintruegobj_to_aimgobj2_filegobj2_aim0header_geo_setgobj2_aim-1 -1 -1-1 -1 100.005 .005 .005transformgobj2_aimgobj2_aim_rot_halfTMAT_HALF.DAT0-1.000 -1.000 -1.000falsethresholdgobj2_aim_rot_halfgobj2_aim_rot_half_seg1201000001275togobjgobj2_aim_rot_half_segwk0_rot_rough.gobj005del gobj2_aimdel gobj2_aim_rot_halfdel gobj2_aim_rot_half_segq